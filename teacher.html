<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>หน้าครู</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
body{
  font-family:Arial;
  text-align:center;
  background:#f4f6f9;
}
.card{
  background:white;
  padding:30px;
  margin:50px auto;
  width:350px;
  border-radius:12px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
}
.timer{
  color:red;
  margin-top:10px;
}
</style>
</head>
<body>

<div class="card">
  <h2>QR สำหรับเช็คชื่อ</h2>
  <div id="qrcode"></div>
  <div class="timer">
    หมดเวลาใน <span id="time">60</span> วินาที
  </div>
</div>

<script>
let timeLeft = 60;
let qr;

function generateQR(){
    const code = Date.now();
    const url = "https://tanadolrattanasiri-dotcom.github.io/QRme/scan.html?code=" + code;

  document.getElementById("qrcode").innerHTML = "";

  qr = new QRCode(document.getElementById("qrcode"), {
    text: url,
    width: 200,
    height: 200
  });
}

setInterval(function(){
  timeLeft--;
  document.getElementById("time").innerText = timeLeft;

  if(timeLeft <= 0){
    timeLeft = 60;
    generateQR();
  }
},1000);

generateQR();
</script>

</body>
</html>
